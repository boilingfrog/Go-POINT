## linux中的权限

### 前言

最近使用`ansible`搭建了mongo的`replica set`。发现很多次的失败都是文件权限不对造成的。那么就总结下吧。  

### 深入了解

linux中的文件权限分为读、写、执行.对应的字母就是r、w、x.  

- 读   
Read对文件而言，具有读取文件内容的权限；对目录来说，具有浏览该目录信息的权限。  
- 写  
Write对文件而言，具有修改文件内容的权限；对于目录来说，具有删除移动目录内文件的权限。  
- 执行  
Execute对文件而言，具有执行文件的权限；对目录来说，具有进入目录的权限。  
- 无权限  
`-`表示不具有该项选项  

linux下的权限粒度有 `拥有者`、`群组`、`其他组`三种。每个文件都可以针对这三个粒度，设置不同的(r,w,x)读写执行权限。通常情况下，一个文件只能归属于一个用户和组， 如果其它的用户想有这个文件的权限，则可以将该用户加入具备权限的群组，一个用户可以同时归属于多个组。  

Linux上通常使用chmod命令对文件的权限进行设置和更改。  

### 数字权限

我们规定数字4、2、1表示读、写、执行的权限。即r=4，w=2，x=1。  

栗如:  

````
rwx = 4 + 2 + 1 = 7
rw = 4 + 2 = 6
rx = 4 +1 = 5
````

即  

若要同时设置 rwx (可读写运行） 权限则将该权限位 设置 为 4 + 2 + 1 = 7  

若要同时设置 rw- （可读写不可运行）权限则将该权限位 设置 为 4 + 2 = 6  

若要同时设置 r-x （可读可运行不可写）权限则将该权限位 设置 为 4 +1 = 5  

每个文件都有`拥有者`、`群组`、`其他组`三种权限的粒度。我们在设置权限的时候也是针对这几个粒度进行配置的。即我们可以使用三个数字来配置这三个权限粒度的权限。  

> chmod <abc> file...

````
其中
a,b,c各为一个数字，分别代表User、Group、及Other的权限。
相当于简化版的
chmod u=权限,g=权限,o=权限 file...
而此处的权限将用8进制的数字来表示User、Group、及Other的读、写、执行权限
````

栗子：  




