<!-- START doctoc generated TOC please keep comment here to allow auto update -->
<!-- DON'T EDIT THIS SECTION, INSTEAD RE-RUN doctoc TO UPDATE -->

- [消息模型](#%E6%B6%88%E6%81%AF%E6%A8%A1%E5%9E%8B)
  - [消息队列的演进](#%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97%E7%9A%84%E6%BC%94%E8%BF%9B)
  - [参考](#%E5%8F%82%E8%80%83)

<!-- END doctoc generated TOC please keep comment here to allow auto update -->

## 消息模型

### 消息队列的演进

#### 消息队列模型

早起的消息队列是按照"队列"的数据结构来设计的。   

生产者（Producer）产生消息，进行入队操作，消费者（Consumer）接收消息，就是出队操作，存在于服务端的消息容器就称为消息队列。   

<img src="/img/mq-queue.png"  alt="mq" align="center" />

当然消费者也可能不止一个，存在的多个消费者是竞争的关系，消息被其中的一个消费者消费了，其它的消费者就拿不到消息了。    

#### 发布订阅模型

如果一个人消息想要同时被多个消费者消费，那么上面的队列模式就不适用了，于是又引出了一种新的模式，发布订阅模型。   

<img src="/img/mq-pubsub.png"  alt="mq" align="center" />
                                                                  
### 参考

【消息队列高手课】https://time.geekbang.org/column/intro/100032301     
【消息队列设计精要】https://tech.meituan.com/2016/07/01/mq-design.html    


