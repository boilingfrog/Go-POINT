<!-- START doctoc generated TOC please keep comment here to allow auto update -->
<!-- DON'T EDIT THIS SECTION, INSTEAD RE-RUN doctoc TO UPDATE -->

- [网络层](#%E7%BD%91%E7%BB%9C%E5%B1%82)
  - [为什么需要网络层](#%E4%B8%BA%E4%BB%80%E4%B9%88%E9%9C%80%E8%A6%81%E7%BD%91%E7%BB%9C%E5%B1%82)
  - [网络层的设计思路](#%E7%BD%91%E7%BB%9C%E5%B1%82%E7%9A%84%E8%AE%BE%E8%AE%A1%E6%80%9D%E8%B7%AF)
  - [⽹际协议 IP](#%E2%BD%B9%E9%99%85%E5%8D%8F%E8%AE%AE-ip)
    - [虚拟互联网络](#%E8%99%9A%E6%8B%9F%E4%BA%92%E8%81%94%E7%BD%91%E7%BB%9C)
  - [参考](#%E5%8F%82%E8%80%83)

<!-- END doctoc generated TOC please keep comment here to allow auto update -->

## 网络层

### 为什么需要网络层 

网络层是为传输层提供服务的，为了向传输层提供服务，网络层必须使用数据链路层提供的服务。  

而数据链路层的主要作用是负责解决两个直接相邻节点之间的通信，但并不负责解决数据经过通信子网中多个转接节点时的通信问题。  

因此，网络层需要实现两个端系统之间的数据透明传送，让源端的数据能够以最佳路径透明地通过通信子网中的多个转接节点到达目的端，使得传输层不必关心网络的拓扑构型以及所使用的通信介质和交换技术。   

### 网络层的设计思路

网络层向上只提供简单灵活的，无连接的、尽最大努力交付的数据报服务。   

由于传输⽹络不提供端到端的可靠传输服务，⽹络中的路由器可以做得⽐较简单，⽽且价格低廉：  

- 如果主机（即端系统）中的进程之间的通信需要是可靠的，那么就由⽹络的主机中的运输层负责可靠交付（包括差错处理、流量控制等）；  

- 这种设计思路的好处是：⽹络的造价⼤⼤降低，运⾏⽅式灵活，适应多种应⽤。  

数据报服务无连接  

<img src="/img/ip/ip-network-connect.jpg"  alt="tcp" /> 

### ⽹际协议 IP

⽹际协议 IP 是 `TCP/IP` 体系中两个最主要的协议之⼀。     

与 IP 协议配套使⽤的还有三个协议：   

1、地址解析协议 ARP； 

2、⽹际控制报⽂协议 ICMP； 

3、⽹际组管理协议 IGMP。   

<img src="/img/ip/ip-network-ip.jpg"  alt="tcp" /> 

#### 虚拟互联网络

如果要把在全世界数以百万计的网络都互相连接起来，并且能够相互通信，是一件很复杂的事情。  

网络技术是不断发展的。网络的制造厂家也要经常要推出新的网络，在竞争中求生存，因此在市场上总是有很多不同性能、不同网络协议的网络。  

将⽹络互相连接起来要使⽤⼀些中间设备。中间设备⼜称为中间系统或中继 (relay)系统。      

有下面五种中间设备：   

1、物理层中继系统：转发器 (repeater，中继器)；   

2、数据链路层中继系统：⽹桥 或 桥接器 (bridge)；   

3、⽹络层中继系统：路由器 (router)；   

4、⽹桥和路由器的混合物：桥路器 (brouter)；   

5、⽹络层以上的中继系统：⽹关 (gateway)。

互联网与虚拟互联网  

实际的互联网是通过一些路由器连接的，由于参与互联的计算机网络都使用相同的网际 IP 协议，因此可以把互联以后的网络看成是一个虚拟互联网络。  

<img src="/img/ip/ip-network-virtual.jpg"  alt="tcp" /> 





### 参考

【极客时间-趣谈网络协议】https://time.geekbang.org/column/intro/100007101  
【计算机网络第八版】https://www.bilibili.com/video/BV1WP4y1j7JU?p=1  
【计算机网络学习笔记】https://github.com/boilingfrog/Go-POINT/tree/master/tcp     


