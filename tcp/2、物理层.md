<!-- START doctoc generated TOC please keep comment here to allow auto update -->
<!-- DON'T EDIT THIS SECTION, INSTEAD RE-RUN doctoc TO UPDATE -->

- [物理层](#%E7%89%A9%E7%90%86%E5%B1%82)
  - [基本概念](#%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5)
  - [信道](#%E4%BF%A1%E9%81%93)
    - [传输媒体](#%E4%BC%A0%E8%BE%93%E5%AA%92%E4%BD%93)
  - [信道复用技术](#%E4%BF%A1%E9%81%93%E5%A4%8D%E7%94%A8%E6%8A%80%E6%9C%AF)
    - [频分复用](#%E9%A2%91%E5%88%86%E5%A4%8D%E7%94%A8)
    - [时分复用](#%E6%97%B6%E5%88%86%E5%A4%8D%E7%94%A8)
    - [波分复用](#%E6%B3%A2%E5%88%86%E5%A4%8D%E7%94%A8)
    - [码分复用](#%E7%A0%81%E5%88%86%E5%A4%8D%E7%94%A8)
  - [总结](#%E6%80%BB%E7%BB%93)
  - [参考](#%E5%8F%82%E8%80%83)

<!-- END doctoc generated TOC please keep comment here to allow auto update -->

## 物理层

### 基本概念

物理层考虑的是怎样才能连接各种计算机的传输媒体上传输数据比特流，而不是指具体的传输媒体。   

现有计算机中的硬件设备和传输媒体的种类非常多，通信手段也有许多不同的方式。物理层的作用就是要尽可能的屏蔽掉这些传输媒体和通信手段的差异，是物理层之上的数据链路层感觉不到这些差异， 使得数据链路层只需考虑如何完成本层的协议和服务，而不必考虑网络具体情况的传输媒体和通信手段是什么。  

可以将物理层的主要任务描述为确定与传输媒体接有关的一些特性  

- 机械特性：接口所用接线器的一些物理属性如接口范围，接口尺寸，引线数目及排列；

- 电气特性：接口电缆的各条线上出现电压的范围，阻抗匹配，传输速度，距离等；

- 功能特性：某条线上出现的某一电平的电压的意义，接口部件信号线的用途；

- 过程特性：对于不同功能的各种可能事件的出现顺序，定义各条物理线路的工作规程和时序关系。

来看下数据通信系统的模型  

<img src="/img/ip/ip-physic-connect.jpg"  alt="tcp" />  

一个通信系统包括三大部分：源系统（或发送端、发送⽅）、传输系统（或传输⽹络）和⽬的系统（或接收端、接收⽅）。   

通信的目的是传递信息，如语音，文字，图片等。。。数据是运送消息的实体。信号就是数据的电磁或电气表现。   

根据信号中代表消息的参数的取值方式不同，信号可以分成下面两类：

- 模拟信号：也叫连续信号，代表消息参数的取值是连续的。栗如：上面栗子中，用户家中的调制解调器到电话局之间的用户线上传输的就是模拟信号。

- 数字信号：也叫离散信号，代表消息的参数的取值是离散的。栗如：上面栗子中，用户家中的计算机到调制解调器之间，或在电话线中继线器上传递的就是数字信号。

### 信道

信道一般用来表示向某一个方向传递信息的媒体。一条信道往往包含一个发送信道和接收信道。     

从通信的双方信息交互的方式来看，有下面的几种方式：  

1、单向通信：又称单工通信，只能有一个方向的通信，不能有反方向的交互。栗如，无线电带你广播或者有线电广播，电视广播等。。。

2、双向交替通信：又称为半双工通信，即通信的双方都可以发送信息，但是双方同时发送和接收。   

3、双向同时通信：又称为全双工，通信的双方可以同时发送和接收数据。   

来自信源的信号称为基带信号(基本频带信号)，像计算机输出的代表各种文字或者图像的文件的数据信号都属于基带信号。   

基带信号往往包含有较多的低频成分，甚⾄有直流成分，⽽许多信道并不能传输这种低频分量或直流分量。因此必须对基带信号进⾏调制 (modulation)；  

调制有两大类  

1、基带调制：仅仅是对基带信号的波形进行变换，使它能够与信道特性相适应，变换后的信号仍然是基带信号。   

2、带通调制：需要使用载波进行调制，把基带信号的频段搬移到较高的频段，并转换为模拟信号，这样就能地在模拟信道中传输，经过载波调制后的信号成为带通信号，使用的载波调制称为带通调制。   

#### 传输媒体

传输媒体也称为传输截止和传输媒介，是数据传输系统中在发送设备和接收设备之间的物理通路。  

传输介质可认为是第0层，它传输的是信号，但是不知道信号是什么意思，根据规定的电气特性来识别比特。   

传输媒体可以分成两大类：导引性传输媒体和非引导性传输媒体。       

<img src="/img/ip/ip-physic-zero.jpg"  alt="tcp" />  

### 信道复用技术

复用是计算机通信技术中的基本概念，把多个信号组合在一条物理信道上进行传输，使得多个计算机或终端设备共享信道资源，提高信道的利用率。   

<img src="/img/ip/ip-physic-mult.jpg"  alt="tcp" />  

它允许⽤户使⽤⼀个共享信道进⾏通信，降低成本，提⾼利⽤率;    

将使⽤介质的每个设备与来⾃同⼀信道上的其他设备的通信隔离开，把时域和频域资源合理地分配给⽹络上的设备。   

#### 频分复用

频分复用就是各路信号在同样的时间占用不同的频率宽带资源。  

<img src="/img/ip/ip-physic-frequency.jpg"  alt="tcp" />  

频分复用要求总频率宽带大于各个子频率信道之和，各个信道之间设立隔离带，这样就能保证各路信号互补干扰。  

频分复用技术特点是所有子信道传输的信号以并行的方式工作。

#### 时分复用

时分复用的所有用户是在不同的时间占用同样的频率宽带，将时间划分为⼀段段等⻓的时分复⽤帧（TDM 帧），每⼀路信号在每⼀个 TDM 帧中占⽤固定序号的时隙（同步时分复⽤）。     

<img src="/img/ip/ip-physic-time.jpg"  alt="tcp" />    

每一路信号占用的时隙是周期性的出现的；  

时分复用的所有用户在不同的时间占用同样的频带宽度。  

由于计算机数据的突发性质，使⽤时分复⽤系统传输数据，⼦信道的利⽤率⼀般是不⾼。   

栗如：当一个用户某一个时间段暂时没有数据传输,这时候分配给该用户的信道资源，就会造成浪费了，即使其他用户目前一直有数据需要发送，也不能使用这个空闲的线路资源，这就导致复用后的信道利用率不高。   

统计时分复⽤ (Statistic TDM，异步时分复⽤)是一种改进的时分复用，明显地提高了信道的利用率。   

<img src="/img/ip/ip-physic-statistic.jpg"  alt="tcp" />    

数据发往复⽤器，复⽤器按顺序扫描，把复⽤器中的数据放⼊STDM帧中，⼀个STDM帧满了就发出。  

STDM 不是固定分配时隙，⽽是按需动态分配时隙。 

STDM 帧的时隙数少于终端数，并且有站标识开销。  

#### 波分复用

波分复用：是将两种或多种不同波⻓的光载波信号，在发送端经复⽤器把这些光载波信号汇合在⼀起，并耦合到光线路中同⼀根光纤中进⾏传输。   

光纤技术的使用使得数据传输的速率空前提高，使用一根光纤同时来传输多个频率很接近的光载波信号，这样光纤的传输能力就有可以成倍的提高。   

<img src="/img/ip/ip-physic-statistic.jpg"  alt="tcp" />    

接收端经分⽤器将各种波⻓的光载波进⾏分离，这种复⽤⽅式称为波分复⽤。  

可以是单向传输，也可以是双向传输。光的波分复⽤可理解为光的频分复⽤。  

#### 码分复用

码分复用：使用经过挑选的不同码型进行通讯，因此在同一时刻，使用同样的频段进行通信，也不会造成干扰。   

码分复用最初用于军事系统，因为这种系统发送的信号有很很强的抗干扰能力，其频谱类似于白噪声，不易被敌人发现。  

每⼀个⽐特时间划分为 m 个短的间隔，称为码⽚ (chip),每个站被指派⼀个唯⼀的 m bit 码⽚序列：

- 如发送⽐特 1，则发送⾃⼰的 m bit 码⽚序列；   

- 如发送⽐特 0，则发送该码⽚序列的⼆进制反码。   

栗如，S 站的 8 bit 码⽚序列是 00011011：  

- 发送⽐特 1 时，就发送序列 00011011；   

- 发送⽐特 0 时，就发送序列 11100100。   

S 站的码⽚序列：(–1 –1 –1 +1 +1 –1 +1 +1)    

### 总结

物理层的主要任务就是确定与传输媒体接口有关的一些特性，如机械特性、电气特性、功能特性和过程特性；  

物理层要解决的主要问题：

1、物理层要尽可能地屏蔽掉物理设备和传输媒体，通信手段的不同，使数据链路层感觉不到这些差异，只考虑完成本层的协议和服务；  

2、给其服务用户（数据链路层）在一条物理的传输媒体上传送和接收比特流（一般为串行按顺序传输的比特流）的能力，为此，物理层应该解决物理连接的建立、维持和释放问题；   

3、在两个相邻系统之间唯一地标识数据电路。

物理层的主要特点：

1、由于在OSI之前，许多物理规程或协议已经制定出来了，而且在数据通信领域中，这些物理规程已被许多商品化的设备所采用，加之，物理层协议涉及的范围广泛，所以至今没有按OSI的抽象模型制定一套新的物理层协议，而是沿用已存在的物理规程，将物理层确定为描述与传输媒体接口的机械，电气，功能和规程特性；  

2、由于物理连接的方式很多，传输媒体的种类也很多，因此，具体的物理协议相当复杂。   

### 参考

【极客时间-趣谈网络协议】https://time.geekbang.org/column/intro/100007101  
【计算机网络第八版】https://www.bilibili.com/video/BV1WP4y1j7JU?p=1  
【计算机网络学习笔记】https://github.com/boilingfrog/Go-POINT/tree/master/tcp  


