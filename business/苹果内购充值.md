## 苹果内购

### 前言

接触公司的充值业务很久了,在处理苹果充值的时候也踩了很多的坑，这里就花时间来总结下。

### 苹果内购

IAP 全称：`In-App Purchase`，是指苹果 `App Store` 的应用内购买，是苹果为 App 内购买虚拟商品或服务提供的一套交易系统。

为什么这里着重来介绍 IAP 呢，因为 IAP 和微信支付和支付宝支付的实现逻辑不太一样，因为 IAP 支付依赖 IOS 客户端调用异步支付回调接口，进行用户和订单的绑定，会有丢单的情况产生，这里
假定大家对苹果支付有一定了解了，重点主要是来聊下苹果支付的技术实现方案。

聊下，目前 IAP 中充值我们遇到的问题点

1、丢单；

2、订单充值到错误的账号；

3、在苹果设置中直接点击充值，导致不到账。

下面来聊聊具体的设计

### 设计方案




### 参考


