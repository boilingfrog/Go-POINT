<!-- START doctoc generated TOC please keep comment here to allow auto update -->
<!-- DON'T EDIT THIS SECTION, INSTEAD RE-RUN doctoc TO UPDATE -->

- [架构学习-多任务：进程，线程，协程](#%E6%9E%B6%E6%9E%84%E5%AD%A6%E4%B9%A0-%E5%A4%9A%E4%BB%BB%E5%8A%A1%E8%BF%9B%E7%A8%8B%E7%BA%BF%E7%A8%8B%E5%8D%8F%E7%A8%8B)
  - [参考](#%E5%8F%82%E8%80%83)

<!-- END doctoc generated TOC please keep comment here to allow auto update -->

## 架构学习-多任务：进程，线程，协程

### 多任务

多任务处理：是指计算机同时运行多个程序的能力。比如说，我们在使用电脑的时候，可以边听音乐，边写文档。    

从物理层面上看，最早的 CPU 都是单核的，也就是同一时间只能执行一条指令。   

单核 CPU 是如何支持多任务处理的呢？方法是把 CPU 切成一段段的时间片，每个时间片只运行某一个软件。多任务的一般方法运行第一个程序的一段代码，保存工作环境；在运行第二个程序的一段代码，保存环境；恢复第一个程序的工作环境，执行第一个程序的下的一段代码...现代的多任务，每个程序的时间分配相对平均。   

每个时间片，只运行某一个软件，因为时间片很小，我们会感觉这些软件在同时运行。这种多时间分片实现的多任务系统，我们称之为分时系统。   

那么这个任务指的是什么呢？从今天的现实看，任务的抽象并不是唯⼀的。⼤部分操作系统提供了两套：进程和线程。有的 操作系统还会提供第三套叫协程。   

来看下这几个的区别  

|     执行体      |        地址空间         |      调度方    |      时间片调度    |      主动调度    |                
|     进程        |不同的执行体有不同的地址空间|   操作系统内核  |     基于时钟中断   |   系统调用syscall |
|     线程        |不同的执行体共享地址空间   |   操作系统内核  |     基于时钟中断   |   系统调用syscall |
|     协程        |不同的执行体共享地址空间   |   用户态       |     一般不支持     |   包装系统调用     |

这里着重来了解下协程  




### 参考

【多任务处理】https://zh.wikipedia.org/wiki/%E5%A4%9A%E4%BB%BB%E5%8A%A1%E5%A4%84%E7%90%86  
【面向对象编程】https://www.liaoxuefeng.com/wiki/1016959663602400/1017495723838528      
【许式伟的架构课】https://time.geekbang.org/column/article/89668  